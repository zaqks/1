<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agents</title>

    <link th:href="@{/css/vars.css}" rel="stylesheet" />
    <link th:href="@{/css/main.css}" rel="stylesheet" />



    <link th:href="@{/css/widgets/cards/offer.css}" rel="stylesheet" />
    <link th:href="@{/css/widgets/panel.css}" rel="stylesheet" />
    <link th:href="@{/css/widgets/section.css}" rel="stylesheet" />

    <link th:href="@{/css/widgets/grid.css}" rel="stylesheet" />

    <link th:href="@{/css/widgets/bars/appbar.css}" rel="stylesheet" />
    <link th:href="@{/css/widgets/bars/navbar.css}" rel="stylesheet" />

    <link th:href="@{/css/widgets/window.css}" rel="stylesheet" />
    <link th:href="@{/css/widgets/table.css}" rel="stylesheet" />



    <link th:href="@{/css/templates/market/showAll.css}" rel="stylesheet" />


</head>

<body>

    <div id="window">
        <div class="panel h" id="top">
            <img id="logo" th:src="@{/media/images/logo/text.svg}" alt="">
        </div>

        <div id="view">
            <div class="panel v" id="side">
                <div>
                    <div class="icn" onclick="window.location.href='/agency/dashbord'">
                        <img src="/media/icons/navigation/market.png" alt="">
                    </div>

                    <div class="icn" onclick="window.location.href='/agency/contract'">
                        <img src="/media/icons/navigation/contracts.png" alt="">
                    </div>

                    <div class="icn" onclick="window.location.href='/agency/visit'">
                        <img src="/media/icons/navigation/visits.svg" alt="">
                    </div>

                    <div class="icn" onclick="window.location.href='/agency/agent'">
                        <img src="/media/icons/navigation/offers.png" alt="">
                    </div>

                    <div class="icn" onclick="window.location.href='/agency/property'">
                        <img src="/media/icons/navigation/properties.png" alt="">
                    </div>


                    <div class="icn" onclick="window.location.href='/agency/offer'">
                        <img src="/media/icons/navigation/properties.png" alt="">
                    </div>

                </div>

                <div class="icn" onclick="window.location.href='/client/profile'">
                    <img src="/media/icons/navigation/profile.png" alt="">
                </div>

            </div>

            <div id="content">

                <div class="section border">
                    <div class="row">
                        <h4 id="title">
                            Agents
                        </h4>
                        <a href="/agency/agent/add">+ Add agent</a>
                    </div>

                    <div id="content">
                        <table>
                            <tr>
                                <th>id</th>
                                <th>nin</th>
                                <th>phonenum</th>
                                <th>email</th>

                                <th>name</th>
                                <th>surname</th>
                                <th></th>
                            </tr>

                            <tr th:each="agent: ${agents}">
                                <td th:text="*{agent.id}"></td>
                                <td th:text="*{agent.nin}"></td>
                                <td th:text="*{agent.phonenum}"></td>
                                <td th:text="*{agent.email}"></td>

                                <td th:text="*{agent.name}"></td>
                                <td th:text="*{agent.surname}"></td>

                                <td>
                                    <a th:href="@{'/agency/agent/' + ${agent.id} + '/delete'}"
                                        onclick="confirm('u sure?')">Delete</a>
                                </td>
                            </tr>

                        </table>

                    </div>
                </div>




                <div class="section border">
                    <div class="row">
                        <h4 id="title">
                            Agents
                        </h4>
                        <a href="/agency/agent/add">+ Add agent</a>
                    </div>

                    <div id="content">
                        <table>
                            <tr>
                                <th>id</th>
                                <th>nin</th>
                                <th>phonenum</th>
                                <th>email</th>

                                <th>name</th>
                                <th>surname</th>
                                <th></th>
                            </tr>

                            <tr th:each="agent: ${agents}">
                                <td th:text="*{agent.id}"></td>
                                <td th:text="*{agent.nin}"></td>
                                <td th:text="*{agent.phonenum}"></td>
                                <td th:text="*{agent.email}"></td>

                                <td th:text="*{agent.name}"></td>
                                <td th:text="*{agent.surname}"></td>

                                <td>
                                    <a th:href="@{'/agency/agent/' + ${agent.id} + '/delete'}"
                                        onclick="confirm('u sure?')">Delete</a>
                                </td>
                            </tr>

                        </table>

                    </div>
                </div>

                <div class="section border">
                    <div class="row">
                        <h4 id="title">
                            Contracts
                        </h4>
                        
                    </div>

                    <div id="content">
                        <table>
                            <tr>
                                <th>id</th>
                                <th>type</th>
                                <th>offer</th>

                                <th>datetime</th>


                                <th>client1 NIN</th>
                                <th>client2 NIN</th>



                            </tr>

                            <tr th:each="contract: ${contracts}" th:offr_id="${contract.offer.id}"
                                th:onclick="window.location.href='/client/market/' + this.getAttribute('offr_id')">
                                <td th:text="${contract.id}"></td>
                                <td th:text="${contract.type}"></td>
                                <td th:text="${contract.offer.id}"></td>
                                <td th:text="${contract.datetime2}"></td>


                                <td th:text="${contract.src.nin}"></td>
                                <td th:text="${contract.dst.nin}"></td>

                            </tr>

                        </table>


                    </div>
                </div>

 




            </div>

        </div>
    </div>

    </div>





</body>

</html>